package com.montydigital.CopsAndRobbers.core.entityFramework{
	import com.montydigital.CopsAndRobbers.assets.TempMaps;
	import com.montydigital.CopsAndRobbers.core.entityFramework.entity.Entity;
	import com.montydigital.CopsAndRobbers.core.entityFramework.vo.DisplayVO;
	import com.montydigital.CopsAndRobbers.core.entityFramework.vo.PhysicsVO;
	import com.montydigital.CopsAndRobbers.core.entityFramework.vo.PositionVO;
	
	import starling.display.StImage;
	
	public class EntityCreator{
		
		private var gameManager:GameManager;
		
		public function EntityCreator(gameManager:GameManager){
			this.gameManager = gameManager;
		}
		
		public function createBox(x:Number, y:Number):Entity{
			var box:Entity = new Entity();
			
			var position:PositionVO = new PositionVO();
			position.x = x;
			position.y = y;
			position.rotation = 0;
			box.addComponent(position);
			
			var display:DisplayVO = new DisplayVO();
			display.displayObject = StImage.fromBitmap(new TempMaps.CRATE());
			display.displayObject.scaleX = display.displayObject.scaleY = .25;
			box.addComponent(display);
			
			var physics:PhysicsVO = new PhysicsVO();
			box.addComponent(physics);
			
			gameManager.addEntity(box);
			return box;
		}
		
		public function destroyEntity(entity:Entity):void{
			gameManager.removeEntity(entity);
		}
		
		
	}
}