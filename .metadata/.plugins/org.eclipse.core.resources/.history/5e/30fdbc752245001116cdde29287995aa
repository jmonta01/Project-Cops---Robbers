package com.montydigital.CopsAndRobbers.core.entityFramework{
	import com.montydigital.CopsAndRobbers.core.entityFramework.entity.Entity;
	import com.montydigital.CopsAndRobbers.core.entityFramework.lists.EntityList;
	import com.montydigital.CopsAndRobbers.core.entityFramework.lists.NodeLists;
	import com.montydigital.CopsAndRobbers.core.entityFramework.lists.SystemList;
	
	public class GameManager{
		
		private var entities:EntityList;
		private var systems:SystemList;
		private var nodeLists:NodeLists;
		
		public function GameManager(){
			entities = new EntityList();
			systems = new SystemList();
			nodeLists = new NodeLists();
		}
		
		/* entities */
		public function addEntity(entity:Entity):void{
			entities.add(entity);
		}
		
		public function removeEntity(entity:Entity):void{
			entities.remove(entity);
		}
		
		/* systems */
		public function addSystem(system:ISystem, priotity:int):void{
			systems.add(system, priotity);
			system.start();
		}
		
		public function removeSystem(system:ISystem):void{
			system.stop();
			systems.removeSystem(system);
		}
		
		
		/* nodes */
		
		
		
		/* game loop */
		public function update(time:Number):void{
			for each(var system:ISystem in systems)
				system.update(time);
		}
		
	}
}